INTRODUCTION

 This document wants to give an insight to zarafa-postfixadmin and the reason it was invented.
	
  - Laking linux, postfix skills
  - No LDAP
  - Small setups 
   - Security -> no root / sudo 


INSTALLATION

 Add the repository to /etc/pacman.conf at the end of the file.
    
    [pietma]
    SigLevel = Optional TrustAll
    Server = http://repository.pietma.com/nexus/content/repositories/archlinux/$arch/$repo

 Synchronize packages and download a fresh copy of the master package list from the servers

    sudo pacman -Sy

 Install the packages
    
    sudo pacman -Sy pietma/zarafa-postfixadmin pietma/zarafa-postfixadmin-worker

 Insert in 
 
  - /etc/nginx/nginx.conf in any server block -> include /etc/webapps/zarafa-postfixadmin/nginx-location.conf; 
  - /etc/php/php-fpm.conf -> include=/etc/php/fpm.d/*.conf

 Run
 
  - sudo /usr/share/doc/zarafa-postfixadmin/install
  - sudo systemctl restart nginx
  - sudo systemctl restart php-fpm
  - sudo systemctl enable zarafa-postfixadmin-worker.service
  - sudo systemctl start zarafa-postfixadmin-worker.service
 
 Visit and create a superadmin account
 
  - https://YOUR_HOSTNAME/zarafa-postfixadmin/setup.php


DIFFERENCES TO WELL KNOWN POSTFIXADMIN

 - Mailbox passwords are not hidden
 - Mailbox passwords are only treated as start password and deleted when transfered to Zarafa
 - Mailbox passwords are only managed by Zarafas DB-Plugin


USE CASES 

 This part should show the supported actions you can do in Zarafa-Postfixadmin and which change they cause in Zarafa. Actions causing the same change are grouped.

 Domain User Cases

 1) Create Domain
 2) Edit Domain
 3) Delete Domain
  - Action is skipped (No change to Zarafa)


 Mailbox Use Cases

 1) Create Mailbox - Given password
 2) Create Mailbox - Generated password (empty field)
  - Create Zarafa account with email=username, email, full name, password, active state
  - Replace Postfix mailbox password with 'updated'

 3) Create Mailbox - Existing Zarafa account (with same email)
  - Update Zarafa account with full name, password, active state

 4) Edit Mailbox - Name
 5) Edit Mailbox - Active state
  - Update Zarafa account with full name, active state

 6) Edit Mailbox - Empty Name 
  - As 4), but takes username from local part of email (me@test.de -> me)
 
 7) Edit Mailbox - Password
  - Update Zarafa account with full name, password, active state
  - Replace Postfix mailbox password with 'updated'
 
 8) Delete Mailbox
  - Deletes Zarafa account userstore and account 
   
   
 Alias Use Cases

 1) Create Alias - To destination unknown in Zarafa
  - Action is skipped (No change to Zarafa)
  
 2) Create Alias - To destination known in Zarafa
  - Create inactive Zarafa account with alias=username, alias=email, username from local part of email (me@test.de -> me), random password
  - Add destination in sendas

 4) Edit Alias - Active state
  - Remove all destinations from sendas
  - If active -> Add destination in sendas

 4) Edit Alias - To destination unknown in Zarafa
 5) Delete Alias
  - Remove all destinations from sendas
  - Delete inactive Zarafa account
 

  

  	